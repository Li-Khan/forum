{{ template "base" . }}

{{ define "title" }}Main page{{ end }}

{{ define "main" }}

<a href="/create/post">create post</a>

<p>Filter:</p>
{{ range .Tags }}

<a href="/filter?tag={{ . }}">{{ . }}</a>

{{ end }}

<h2>Posts:</h2>
{{ range .Posts }}

<div class="container">
    <div class="card text-center">
        <div class="card-header">
            <a href="/post?id={{ .ID }}" class="link-dark">Go to the post</a>
        </div>
        <div class="card-body">
            <h5 class="card-title">{{ .Title }}</h5>
            <a href="/user/profile?login={{ .UserLogin }}" class="btn btn-primary">{{ .UserLogin}}</a>
        </div>
        <div class="card-footer text-muted">
            {{ range .Tags}}
            <a href="/filter?tag={{ . }}">{{ . }}</a>
            {{ end }}
            <br>
            {{ .Created }}
        </div>
    </div>
    <br>
</div>

{{ end }}

{{ end }}